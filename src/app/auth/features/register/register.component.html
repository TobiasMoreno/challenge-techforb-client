<h3>Registrar Usuario</h3>
<form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
  <!-- Email -->
  <mat-form-field appearance="outline" class="w-100 mb-3">
    <mat-label>Email</mat-label>
    <input
      matInput
      type="email"
      formControlName="email"
      placeholder="ejemplo@correo.com"
      required
    />
    @if (registerForm.controls['email'].hasError('required')) {
    <mat-error>El email es obligatorio</mat-error>
    } @if (registerForm.controls['email'].hasError('email')) {
    <mat-error>El formato del email es incorrecto</mat-error>
    }
  </mat-form-field>

  <!-- Contraseña -->
  <mat-form-field appearance="outline" class="w-100 mb-3">
    <mat-label>Contraseña</mat-label>
    <input
      matInput
      [type]="hidePassword ? 'password' : 'text'"
      formControlName="password"
      placeholder="Tu contraseña"
    />
    <button
      mat-icon-button
      matSuffix
      (click)="hidePassword = !hidePassword"
      type="button"
    >
      <mat-icon>{{ hidePassword ? "visibility_off" : "visibility" }}</mat-icon>
    </button>
    @if (registerForm.controls['password'].hasError('required')) {
    <mat-error>La contraseña es obligatoria</mat-error>
    } @if (registerForm.controls['password'].hasError('minlength')) {
    <mat-error>La contraseña debe tener al menos 8 caracteres</mat-error>
    }
  </mat-form-field>

  <!-- Confirmar Contraseña -->
  <mat-form-field appearance="outline" class="w-100 mb-3">
    <mat-label>Confirmar Contraseña</mat-label>
    <input
      matInput
      [type]="hideConfirmPassword ? 'password' : 'text'"
      formControlName="confirmPassword"
      placeholder="Tu contraseña"
    />
    <button
      mat-icon-button
      matSuffix
      (click)="hideConfirmPassword = !hideConfirmPassword"
      type="button"
    >
      <mat-icon>{{
        hideConfirmPassword ? "visibility_off" : "visibility"
      }}</mat-icon>
    </button>
    @if (registerForm.controls['confirmPassword'].hasError('required')) {
    <mat-error>La contraseña es obligatoria</mat-error>
    } @if (registerForm.controls['confirmPassword'].hasError('minlength')) {
    <mat-error>La contraseña debe tener al menos 8 caracteres</mat-error>
    }
  </mat-form-field>

  <!-- Botón de registro -->
  <div class="d-flex">
    <button
      mat-raised-button
      class="w-100"
      type="submit"
      [disabled]="registerForm.invalid || isLoading"
    >
      @if (isLoading) {
      <mat-progress-spinner
        diameter="20"
        mode="indeterminate"
      ></mat-progress-spinner>
      } @if (!isLoading) {
      <span class="ms-2">Registrarse</span>
      }
    </button>
  </div>
</form>
